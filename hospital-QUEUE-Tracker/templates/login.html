<style>
body {
  background: linear-gradient(135deg, #43cea2, #185a9d);
  font-family: "Segoe UI", sans-serif;
}

.login-form {
  width: 380px;
  margin: 100px auto;
  padding: 30px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
  text-align: center;
  animation: fadeIn 0.6s ease;
}

.login-form h2 {
  margin-bottom: 20px;
  color: #185a9d;
  font-size: 26px;
  font-weight: bold;
}

.login-form input,
.login-form select {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid #ccc;
  outline: none;
  font-size: 15px;
  transition: 0.3s;
}

.login-form input:focus,
.login-form select:focus {
  border-color: #43cea2;
  box-shadow: 0 0 5px rgba(67,206,162,0.6);
}

.login-form button {
  width: 100%;
  padding: 12px;
  margin-top: 15px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(135deg, #43cea2, #185a9d);
  color: white;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.login-form button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.2);
}

#error {
  color: red;
  margin-top: 10px;
  font-weight: bold;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>

<form method="POST" action="/login" class="login-form">
  <h2>Hospital Login</h2>
  <link>

  <!-- ROLE -->
  <select name="role" id="role" onchange="toggleDepartment()" required>
    <option value="">Select Role</option>
    <option value="admin">Admin</option>
    <option value="user">User</option>
    <option value="doctors">doctors</option>
  </select>

  <!-- USERNAME -->
  <input type="text" name="username" placeholder="Username" required>

  <!-- PASSWORD -->
  <input type="password" name="password" placeholder="Password" required>

  <!-- DEPARTMENT (only for doctors) -->
  <div id="deptBox" style="display:none;">
    <select name="department" id="department">
      <option value="">Select Department</option>
      <option value="General">General</option>
      <option value="Cardiology">Cardiology</option>
      <option value="Dental">Dental</option>
      <option value="ENT">ENT</option>
      <option value="Dermatology">Dermatology</option>
    </select>
  </div>

  <button type="submit">Login</button>

  {% if error %}
    <p style="color:red">{{ error }}</p>
    <script >
      // static/js/login.js

function toggleDepartment() {
  const role = document.getElementById("role").value;
  const deptBox = document.getElementById("deptBox");
  const dept = document.getElementById("department");

  if (role === "doctors" || role === "user") {
    deptBox.style.display = "block";
    dept.required = true;
  } else {
    deptBox.style.display = "none";
    dept.required = false;
  }
}
    </script>
  {% endif %}
</form>



